<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Front Mirror - Camera Stream</title>
    <link rel="stylesheet" href="camera.css" />
  </head>

  <body>
    <div>
      <div id="viewedit-camera--section">
        <div id="viewedit-camera">
          <video
            id="camera-stream"
            style="transform: rotateY(180deg)"
            autoplay
            muted
          ></video>

          <div id="camera-select">
            <div id="camera-select--container">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                fill="#bbbbbb"
                viewBox="0 0 256 256"
                id="camera-select--svg-start"
              >
                <path
                  d="M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"
                ></path>
              </svg>
              <select id="camera-source"></select>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                fill="#343434"
                viewBox="0 0 256 256"
                id="camera-select--svg-end"
              >
                <path
                  d="M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"
                ></path>
              </svg>
            </div>
            <span>Choose a different camera</span>
          </div>
        </div>

        <div id="fm-footer">
          <span
            >Press Ctrl+Shift+Z (Command+Shift+Z on a Mac) to open the Front
            Mirror, press Escape to close</span
          >
        </div>
      </div>

      <div id="video-stream--error-box" class="hidden">
        <button id="vs-error--settings-btn">Camera Settings</button>
        <div>
          <span id="vs-error--title">How to allow sites to use camera</span>
          <img
            src="/camera/streamErrorImages/allow-sites-to-use-camera-default.jpg"
            alt="Allow sites to use camera default behaviour"
            id="vs-error--img"
          />
          <img
            src="/camera/streamErrorImages/allow-sites-to-use-camera.jpg"
            alt="Allow sites to use camera customised behaviours"
            id="vs-error--img"
          />
        </div>
        <div>
          <span id="vs-error--title">How to unblock the camera</span>
          <img
            src="/camera/streamErrorImages/unblock-the-camera.jpg"
            alt="Unblock the camera"
            id="vs-error--img"
          />
        </div>
      </div>
    </div>

    <script type="module" src="camera.js"></script>
  </body>
</html>
